<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qazaq AI ‚Äî –¢–≤–æ–π AI-–ø–æ–º–æ—â–Ω–∏–∫</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Existing background elements -->
    <div class="particles-container"><canvas id="particlesCanvas"></canvas></div>
    <div class="ornament-bg">
        <div class="ornament ornament-1"></div>
        <div class="ornament ornament-2"></div>
        <div class="ornament ornament-3"></div>
        <div class="ornament ornament-4"></div>
    </div>
    
    <!-- Confetti & Modals -->
    <div id="confettiContainer" class="confetti-container"></div>
    <div id="celebrationModal" class="celebration-modal">
        <div class="celebration-content">
            <div class="celebration-icon">üéâ</div>
            <h2 class="celebration-title">–ú–æ–ª–æ–¥–µ—Ü!</h2>
            <p class="celebration-message"></p>
            <button class="celebration-btn" onclick="closeCelebration()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
    </div>

    <!-- NEW: Level Up Modal -->
    <div id="levelUpModal" class="level-up-modal">
        <div class="level-up-content">
            <div class="level-up-rays"></div>
            <div class="level-up-icon">‚≠ê</div>
            <h2 class="level-up-title">–£–†–û–í–ï–ù–¨ –ü–û–í–´–®–ï–ù!</h2>
            <div class="level-display">
                <span class="old-level"></span>
                <span class="level-arrow">‚Üí</span>
                <span class="new-level"></span>
            </div>
            <p class="level-up-message"></p>
            <div class="rewards-display"></div>
            <button class="level-up-btn" onclick="closeLevelUp()">–°—É–ø–µ—Ä! üöÄ</button>
        </div>
    </div>

    <!-- NEW: Daily Reward Modal -->
    <div id="dailyRewardModal" class="daily-reward-modal">
        <div class="daily-reward-content">
            <div class="daily-reward-header">
                <h2>üéÅ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞</h2>
                <p>–î–µ–Ω—å <span id="dailyDay">1</span> –∏–∑ 7</p>
            </div>
            <div class="daily-rewards-grid" id="dailyRewardsGrid"></div>
            <button class="claim-reward-btn" onclick="claimDailyReward()">–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É! üéÅ</button>
        </div>
    </div>

    <!-- NEW: Power-up Modal -->
    <div id="powerUpModal" class="power-up-modal">
        <div class="power-up-content">
            <h2>‚ö° –í—ã–±–µ—Ä–∏ –±–æ–Ω—É—Å!</h2>
            <p class="power-up-subtitle">–ò—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–∏ –∫—Ä–∏—Å—Ç–∞–ª–ª—ã –º—É–¥—Ä–æ—Å—Ç–∏</p>
            <div class="power-ups-grid">
                <div class="power-up-card" onclick="usePowerUp('double_xp')">
                    <div class="power-up-icon">‚ú®</div>
                    <div class="power-up-name">–î–≤–æ–π–Ω–æ–π XP</div>
                    <div class="power-up-description">15 –º–∏–Ω—É—Ç</div>
                    <div class="power-up-cost">üíé 50</div>
                </div>
                <div class="power-up-card" onclick="usePowerUp('hint')">
                    <div class="power-up-icon">üí°</div>
                    <div class="power-up-name">–ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
                    <div class="power-up-description">1 —Ä–∞–∑</div>
                    <div class="power-up-cost">üíé 30</div>
                </div>
                <div class="power-up-card" onclick="usePowerUp('streak_freeze')">
                    <div class="power-up-icon">‚ùÑÔ∏è</div>
                    <div class="power-up-name">–ó–∞–º–æ—Ä–æ–∑–∫–∞</div>
                    <div class="power-up-description">1 –¥–µ–Ω—å</div>
                    <div class="power-up-cost">üíé 40</div>
                </div>
            </div>
            <button class="close-power-up-btn" onclick="closePowerUpModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- NEW: Combo Indicator -->
    <div id="comboIndicator" class="combo-indicator">
        <div class="combo-fire">üî•</div>
        <div class="combo-count">√ó<span id="comboCount">0</span></div>
        <div class="combo-label">–ö–û–ú–ë–û!</div>
    </div>

    <!-- NEW: Floating XP -->
    <div id="floatingXP" class="floating-xp-container"></div>

    <!-- Header -->
    <header class="topbar">
        <div class="logo-container">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" fill="url(#gold-gradient)" opacity="0.3"/>
                    <path d="M20 5 L28 15 L35 20 L28 25 L20 35 L12 25 L5 20 L12 15 Z" fill="url(#gold-gradient)"/>
                    <circle cx="20" cy="20" r="6" fill="#0A3D62"/>
                    <defs>
                        <linearGradient id="gold-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FFD700;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#C9A227;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">Qazaq<span class="logo-highlight">AI</span></span>
            </div>
            <div class="status-indicator">
                <span class="status-dot"></span> –û–Ω–ª–∞–π–Ω
            </div>
        </div>

        <div class="header-stats">
            <div class="stat-mini">
                <span class="stat-icon">üî•</span>
                <div>
                    <div class="stat-value" id="streakCount">0</div>
                    <div class="stat-name">–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                </div>
            </div>
            <div class="stat-mini clickable" onclick="openPowerUpModal()" title="–ö–ª–∏–∫–Ω–∏ —á—Ç–æ–±—ã –∫—É–ø–∏—Ç—å –±–æ–Ω—É—Å—ã">
                <span class="stat-icon">üíé</span>
                <div>
                    <div class="stat-value" id="crystalsCount">100</div>
                    <div class="stat-name">–∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤</div>
                </div>
            </div>
            <div class="stat-mini level-badge-mini" title="–¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å">
                <span class="stat-icon">‚≠ê</span>
                <div>
                    <div class="stat-value" id="userLevel">1</div>
                    <div class="stat-name">—É—Ä–æ–≤–µ–Ω—å</div>
                </div>
            </div>
        </div>

        <div class="tagline-container">
            <div class="tagline">AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</div>
            <div class="flag-decoration">üá∞üáø</div>
        </div>
    </header>

    <!-- Main App -->
    <main class="app">
        <section class="chat-section">
            <!-- Active Power-ups Display -->
            <div id="activePowerUps" class="active-power-ups"></div>

            <!-- Welcome Banner -->
            <div class="welcome-banner" id="welcomeBanner">
                <div class="welcome-header">
                    <h2>–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ! üëã</h2>
                    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Qazaq AI ‚Äî —Ç–≤–æ–µ–≥–æ –ª–∏—á–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞ –≤ –∏–∑—É—á–µ–Ω–∏–∏ –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</p>
                </div>

                <div class="welcome-cards">
                    <div class="welcome-card" onclick="quick('–ù–∞—É—á–∏ –º–µ–Ω—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è–º –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–æ–º')">
                        <div class="card-icon">üëã</div>
                        <div class="card-title">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è</div>
                        <div class="card-subtitle">–ë–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã</div>
                    </div>
                    <div class="welcome-card" onclick="quick('–†–∞—Å—Å–∫–∞–∂–∏ –æ –∫–∞–∑–∞—Ö—Å–∫–∏—Ö —Ç—Ä–∞–¥–∏—Ü–∏—è—Ö')">
                        <div class="card-icon">üèõÔ∏è</div>
                        <div class="card-title">–¢—Ä–∞–¥–∏—Ü–∏–∏</div>
                        <div class="card-subtitle">–ö—É–ª—å—Ç—É—Ä–∞ –Ω–∞—Ä–æ–¥–∞</div>
                    </div>
                    <div class="welcome-card" onclick="quick('–î–∞–π –±–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö')">
                        <div class="card-icon">üìñ</div>
                        <div class="card-title">–ë–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã</div>
                        <div class="card-subtitle">–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤</div>
                    </div>
                    <div class="welcome-card" onclick="quick('–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –∫–∞–∑–∞—Ö—Å–∫–∏–π –∞–ª—Ñ–∞–≤–∏—Ç')">
                        <div class="card-icon">üî§</div>
                        <div class="card-title">–ê–ª—Ñ–∞–≤–∏—Ç</div>
                        <div class="card-subtitle">42 –±—É–∫–≤—ã</div>
                    </div>
                </div>

                <div class="daily-challenge">
                    <div class="challenge-header">
                        <span class="challenge-icon">üéØ</span>
                        <span class="challenge-title">–§—Ä–∞–∑–∞ –¥–Ω—è</span>
                        <span class="challenge-reward">+15 XP</span>
                    </div>
                    <div class="challenge-content">
                        <div class="phrase-kz">–û“õ—É ‚Äî –±—ñ–ª—ñ–º –±“±–ª–∞“ì—ã, –ë—ñ–ª—ñ–º ‚Äî ”©–Ω–µ—Ä —à—ã—Ä–∞“ì—ã</div>
                        <div class="phrase-ru">–£—á–µ–Ω–∏–µ ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞–Ω–∏—è, –ó–Ω–∞–Ω–∏–µ ‚Äî —Å–≤–µ—Ç–æ—á –∏—Å–∫—É—Å—Å—Ç–≤–∞</div>
                        <button class="practice-btn" onclick="quick('–î–∞–π –º–Ω–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—Ä–∞–∑—ã: –û“õ—É ‚Äî –±—ñ–ª—ñ–º –±“±–ª–∞“ì—ã, –ë—ñ–ª—ñ–º ‚Äî ”©–Ω–µ—Ä —à—ã—Ä–∞“ì—ã')">
                            <span>–ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                                <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Chat -->
            <div id="chat" class="chat"></div>

            <!-- Input Area -->
            <div class="input-area">
                <div class="learning-tips" id="learningTips">
                    <div class="tip-carousel">
                        <div class="tip-item active">
                            <span class="tip-icon">üí°</span>
                            <span class="tip-text">–°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ü–µ—Ä–µ–≤–µ–¥–∏" –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞</span>
                        </div>
                    </div>
                </div>

                <div class="input-wrapper">
                    <button class="voice-btn" id="voiceBtn" onclick="toggleVoiceInput()" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" stroke="currentColor" stroke-width="2"/>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2M12 19v4M8 23h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div class="voice-pulse"></div>
                    </button>

                    <input id="message" placeholder="–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∫–∞–∑–∞—Ö—Å–∫–æ–º —è–∑—ã–∫–µ..." onkeypress="handleKeyPress(event)" oninput="handleInput()" />

                    <button class="emoji-btn" onclick="toggleEmojiPicker()" title="–≠–º–æ–¥–∑–∏">
                        <span>üòä</span>
                    </button>

                    <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>

                <div id="voiceStatus" class="voice-status" style="display: none;">
                    <div class="voice-status-content">
                        <div class="voice-animation">
                            <span class="voice-bar"></span>
                            <span class="voice-bar"></span>
                            <span class="voice-bar"></span>
                            <span class="voice-bar"></span>
                            <span class="voice-bar"></span>
                        </div>
                        <p class="voice-text">–°–ª—É—à–∞—é...</p>
                        <p class="voice-hint">–ì–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∫–∞–∑–∞—Ö—Å–∫–æ–º —è–∑—ã–∫–µ</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Side Panel with abbreviated content - see full version in outputs -->
        <aside class="side-panel">
            <!-- Progress Section -->
            <div class="progress-section">
                <div class="section-header">
                    <h3>üìà –¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
                </div>
                <div class="section-content" id="progress">
                    <div class="level-progress-card">
                        <div class="level-header">
                            <div class="level-info">
                                <span class="level-label">–£—Ä–æ–≤–µ–Ω—å</span>
                                <span class="level-number" id="levelNumber">1</span>
                            </div>
                            <div class="level-badge-display">
                                <div class="level-badge">‚≠ê</div>
                            </div>
                        </div>
                        <div class="level-bar">
                            <div class="level-fill" id="levelFill" style="width: 0%"></div>
                            <div class="level-text"><span id="currentLevelXP">0</span> / <span id="nextLevelXP">100</span> XP</div>
                        </div>
                    </div>

                    <div class="progress-card">
                        <div class="progress-stats">
                            <div class="stat-item">
                                <div class="stat-icon-mini">üí¨</div>
                                <div>
                                    <div class="stat-number" id="messageCount">0</div>
                                    <div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon-mini">üìö</div>
                                <div>
                                    <div class="stat-number" id="wordsLearned">0</div>
                                    <div class="stat-label">–°–ª–æ–≤ –∏–∑—É—á–µ–Ω–æ</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="xp-progress">
                        <div class="xp-header">
                            <span class="xp-label">–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ü–µ–ª—å</span>
                            <span class="xp-value"><span id="currentXP">0</span> / <span id="dailyGoal">50</span> XP</span>
                        </div>
                        <div class="xp-bar">
                            <div class="xp-fill" id="xpFill" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Quests -->
            <div class="quests-section">
                <div class="section-header">
                    <h3>üéØ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h3>
                    <span class="quest-timer" id="questTimer">23:45:12</span>
                </div>
                <div class="quests-list">
                    <div class="quest-item" id="quest1">
                        <div class="quest-checkbox"></div>
                        <div class="quest-info">
                            <div class="quest-title">–û—Ç–ø—Ä–∞–≤—å 5 —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                            <div class="quest-reward">+10 XP ‚Ä¢ +5 üíé</div>
                        </div>
                        <div class="quest-progress">0/5</div>
                    </div>
                    <div class="quest-item" id="quest2">
                        <div class="quest-checkbox"></div>
                        <div class="quest-info">
                            <div class="quest-title">–ò—Å–ø–æ–ª—å–∑—É–π –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥</div>
                            <div class="quest-reward">+15 XP ‚Ä¢ +10 üíé</div>
                        </div>
                        <div class="quest-progress">0/1</div>
                    </div>
                    <div class="quest-item" id="quest3">
                        <div class="quest-checkbox"></div>
                        <div class="quest-info">
                            <div class="quest-title">–ò–∑—É—á–∏ 10 –Ω–æ–≤—ã—Ö —Å–ª–æ–≤</div>
                            <div class="quest-reward">+20 XP ‚Ä¢ +15 üíé</div>
                        </div>
                        <div class="quest-progress">0/10</div>
                    </div>
                    <div class="quest-item bonus-quest" id="quest4">
                        <div class="quest-checkbox"></div>
                        <div class="quest-info">
                            <div class="quest-title">‚ö° –ë–æ–Ω—É—Å: –ù–∞–±–µ—Ä–∏ –∫–æ–º–±–æ √ó5</div>
                            <div class="quest-reward">+30 XP ‚Ä¢ +25 üíé</div>
                        </div>
                        <div class="quest-progress">0/5</div>
                    </div>
                </div>
            </div>

            <!-- Additional sections abbreviated for token limit... -->
            
        </aside>
    </main>

    <script src="script.js"></script>
</body>
</html>
